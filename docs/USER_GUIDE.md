# D4 Helper - 사용자 가이드 (User Guide)

**버전**: 2.1.0  
**최종 업데이트**: 2026-01-01

---

## 목차 (Table of Contents)

1. [개요](#개요)
2. [주요 기능](#주요-기능)
3. [설치 및 실행](#설치-및-실행)
4. [상세 사용법](#상세-사용법)
5. [단축키 레퍼런스](#단축키-레퍼런스)
6. [문제 해결](#문제-해결)
7. [기술 사양](#기술-사양)

---

## 개요

D4 Helper는 디아블로 4 플레이어를 위한 스킬 자동화 및 이벤트 추적 도구입니다. 반복적인 스킬 사용을 자동화하여 손목 피로를 줄이고, 실시간 이벤트 시간을 제공하여 게임 플레이 효율을 높입니다.

### v2.1.0의 새로운 기능

- ✅ **이벤트 오버레이**: 지옥물결, 월드보스, 군단 시간 실시간 표시
- ✅ **초 단위 카운트다운**: 정확한 남은 시간 확인 가능
- ✅ **오버레이 위치 개선**: 프로필 레이아웃 우측으로 기본 위치 변경
- ✅ **크롤러 최적화**: 최신 웹사이트 대응 및 랜덤 스크래핑 적용

---

## 주요 기능

### 1. 🔄 다중 프로필 시스템

여러 캐릭터나 빌드에 맞춰 서로 다른 설정을 저장하고 관리할 수 있습니다.

**특징:**

- 프로필별 독립적인 시작/정지 키 (F1-F12)
- 프로필 추가, 삭제, 이름 변경 가능
- 실시간 프로필 전환

**사용 예시:**

- 프로필 1 (야만용사): F1 키로 시작/정지
- 프로필 2 (원소술사): F2 키로 시작/정지

### 2. 🖥️ 이동 가능한 오버레이

게임 화면 위에 현재 매크로 상태와 이벤트 정보를 표시하는 투명 위젯입니다.

**기능:**

- **매크로 상태**: 실행 중(초록), 정지(빨강), 일시정지(노랑)
- **이벤트 타이머**: 지옥물결, 월드보스, 군단 시간 표시 **[NEW]**
- **드래그 이동**: 레이아웃 모드에서 자유롭게 위치 변경

**레이아웃 모드 사용법:**

1. 메뉴바에서 `📐 레이아웃 표시` 버튼 클릭
2. 오버레이를 원하는 위치로 드래그
3. 다시 `📐 레이아웃 표시` 버튼 클릭하여 고정

**레이아웃 초기화:**

- 레이아웃 모드가 활성화된 상태에서 `↺` 버튼 클릭
- 오버레이가 화면 밖으로 사라졌을 때 유용
- 기본 위치(프로필 우측)로 즉시 이동

### 3. 🕒 실시간 이벤트 타이머 **[NEW]**

오버레이 하단에 디아블로 4의 주요 이벤트 시간을 표시합니다.

- **지옥물결 (Helltide)**: 진행 중인 경우 남은 시간, 대기 중인 경우 다음 시작 시간 표시
- **월드보스 (World Boss)**: 보스 이름(예: Azmodan)과 스폰까지 남은 시간 표시
- **군단 (Legion)**: 다음 군단 이벤트까지 남은 시간 표시

### 4. ⚡ 8개 스킬 슬롯

각 프로필마다 최대 8개의 스킬 슬롯을 설정할 수 있습니다.

**설정 가능 항목:**

- **키 입력**: 키보드 모든 키, 마우스 좌/우/휠 클릭
- **간격(Interval)**: 0ms ~ 5000ms
- **활성화 상태**: ON/OFF 토글

**지원 키 타입:**

- 일반 문자 키 (A-Z, 0-9)
- 기능 키 (F1-F12, Escape, Tab, Enter 등)
- 마우스 (MouseLeft, MouseRight, MouseMiddle)
- 특수 키 (Shift, Ctrl, Alt, Space 등)

### 5. 🛑 스마트 일시정지 (Stop Keys)

게임 UI를 열 때 매크로가 자동으로 일시정지됩니다.

**지원 게임 키:**

- **C**: 인벤토리 (Inventory)
- **K**: 스킬창 (Skills)
- **F**: 추종자 (Follower)
- **Tab**: 지도 (Map)
- **M**: 월드 맵 (World Map)
- **T**: 마을 포탈 (Town Portal)
- **Enter**: 채팅 (Chat)
- **/**: 귓속말 (Whisper)

**작동 방식:**

1. Stop Key 활성화된 키를 누르면 매크로 일시정지
2. 다시 같은 키를 누르면 매크로 재개

### 6. 🚨 ESC 키 긴급 정지

게임 내에서 ESC 키를 누르면 실행 중인 **모든 프로필**이 즉시 중단됩니다.

**사용 시나리오:**

- 예상치 못한 상황 발생 시
- 빠른 게임 종료가 필요할 때
- 여러 프로필 동시 실행 중 전체 중단

### 7. 💾 자동 저장

모든 설정 변경 사항은 즉시 로컬에 저장됩니다.

**자동 저장 항목:**

- 프로필 설정 (스킬 슬롯, 단축키)
- 메인 윈도우 위치
- 오버레이 위치
- 언어 설정
- Stop Keys 설정

### 8. 📁 파일 관리

설정을 파일로 저장하거나 불러올 수 있습니다.

**기능:**

- **💾 저장**: 현재 설정을 기본 위치에 저장
- **💾+ 다른 이름으로 저장**: JSON 파일로 내보내기
- **📄 불러오기**: 저장된 JSON 파일 가져오기

### 9. 🌍 다국어 지원

4개 언어를 지원합니다.

**지원 언어:**

- 한국어 (Korean)
- English
- 日本語 (Japanese)
- 简体中文 (Simplified Chinese)

---

## 설치 및 실행

### 요구 사항

- **운영체제**: Windows 10/11 (64-bit)
- **개발 환경** (선택): Node.js 18+, Bun

### 사용자용 설치 (일반 사용)

1. [Releases](https://github.com/your-repo/d4-helper/releases) 페이지에서 최신 버전 다운로드
2. `D4Helper_v2.1.0.exe` 실행
3. 프로그램이 자동으로 시작됩니다

### 개발자용 설치

```bash
# 1. 저장소 클론
git clone https://github.com/your-repo/d4-helper.git
cd d4-helper

# 2. 의존성 설치 (Bun 권장)
bun install

# 3. 개발 모드 실행
bun run electron:dev

# 4. 프로덕션 빌드
bun run electron:build
```

---

## 상세 사용법

### 첫 실행 시 설정

1. **언어 선택**: 우측 상단의 언어 선택 드롭다운 사용
2. **프로필 생성**: 좌측 패널에서 `+` 버튼 클릭
3. **프로필 이름 변경**: 프로필 우클릭 → "이름 변경"

### 프로필 설정

#### 시작/정지 키 설정

1. 프로필 선택
2. 프로필 우클릭 → "시작/정지 키 변경"
3. 원하는 키 입력 (F1-F12 권장)

#### 스킬 슬롯 설정

1. 중앙 패널에서 슬롯 클릭
2. 사용할 키 입력 (예: `1`, `Q`, `MouseLeft`)
3. 간격(ms) 설정
4. 토글 스위치로 활성화

### 오버레이 사용

#### 오버레이 위치 조정

1. 메뉴바에서 `📐 레이아웃 표시` 클릭
2. 오버레이를 드래그하여 원하는 위치로 이동
3. 다시 `📐 레이아웃 표시` 클릭하여 고정

#### 오버레이 초기화

오버레이가 화면 밖으로 사라진 경우:

1. `📐 레이아웃 표시` 버튼 클릭
2. `↺` 버튼 클릭
3. 오버레이가 기본 위치(프로필 우측)로 즉시 이동

### Stop Keys 설정

1. 우측 패널의 "Stop Keys" 섹션
2. 원하는 게임 키 토글 활성화
3. 게임 내에서 해당 키를 누르면 매크로 자동 일시정지

### 파일 저장/불러오기

#### 저장

- **💾 저장**: 기본 위치에 자동 저장
- **💾+ 다른 이름으로 저장**: 원하는 위치에 JSON 파일로 저장

#### 불러오기

1. **📄 불러오기** 버튼 클릭
2. 저장된 JSON 파일 선택
3. 설정이 즉시 적용됨

---

## 단축키 레퍼런스

### 글로벌 단축키 (게임 중 사용 가능)

| 키                               | 기능                  | 설명                            |
| -------------------------------- | --------------------- | ------------------------------- |
| **F1-F12**                       | 프로필 시작/정지      | 각 프로필에 할당된 키           |
| **ESC**                          | 모든 프로필 긴급 정지 | 실행 중인 모든 매크로 즉시 중단 |
| **C, K, F, Tab, M, T, Enter, /** | Stop Keys             | 활성화 시 매크로 자동 일시정지  |

### 앱 내부 단축키

| 작업              | 방법                                |
| ----------------- | ----------------------------------- |
| 프로필 추가       | 좌측 패널의 `+` 버튼                |
| 프로필 삭제       | 프로필 우클릭 → "삭제"              |
| 프로필 이름 변경  | 프로필 우클릭 → "이름 변경"         |
| 시작/정지 키 변경 | 프로필 우클릭 → "시작/정지 키 변경" |
| 오버레이 이동     | `📐 레이아웃 표시` → 드래그         |
| 오버레이 초기화   | `↺` 버튼 (레이아웃 모드 활성화 시)  |

---

## 문제 해결

### 매크로가 작동하지 않아요

**해결 방법:**

1. 스킬 슬롯의 토글이 **활성화(초록색)** 되어 있는지 확인
2. 프로필의 시작 키를 눌렀는지 확인
3. 오버레이에서 상태가 "Running"인지 확인
4. Stop Keys가 활성화되어 일시정지된 것은 아닌지 확인

### 오버레이가 보이지 않아요

**해결 방법:**

1. 메뉴바에서 `📐 레이아웃 표시` 버튼 클릭
2. `↺` 버튼을 클릭하여 초기화
3. 오버레이가 프로필 우측에 나타남

### 이벤트 시간이 표시되지 않아요

**해결 방법:**

1. 인터넷 연결 상태를 확인하세요
2. 앱을 재시작해 보세요 (크롤러 재시작)
3. helltides.com 웹사이트가 정상 작동하는지 확인하세요

### 키 입력이 인식되지 않아요

**해결 방법:**

1. 관리자 권한으로 실행했는지 확인
2. 다른 매크로 프로그램과 충돌하는지 확인
3. 디아블로 4가 전체 화면 모드인 경우 창 모드로 변경

### ESC 키로 정지가 안 돼요

**확인 사항:**

- ESC 키는 v2.0.1에서 추가된 기능입니다
- 앱을 재시작한 후 다시 시도해 보세요

### 창 위치가 저장되지 않아요

**해결 방법:**

- 설정 파일이 읽기 전용으로 설정되어 있지 않은지 확인
- AppData 폴더 경로: `%APPDATA%/d4-helper/`

---

## 기술 사양

### 시스템 요구 사항

- **OS**: Windows 10/11 (64-bit)
- **RAM**: 최소 4GB
- **디스크**: 200MB 여유 공간

### 기술 스택

- **런타임**: Electron 27+, Node.js 18+
- **프론트엔드**: React 18, TypeScript
- **빌드 도구**: Vite
- **패키지 매니저**: Bun
- **네이티브 제어**: koffi (Windows API)
- **설정 저장**: electron-store
- **웹 크롤링**: Custom Electron Crawler

### 설정 파일 위치

- **기본 설정**: `%APPDATA%/d4-helper/config.json`
- **윈도우 위치**: `%APPDATA%/d4-helper/window-state.json`

---

## 라이선스 및 면책 조항

### ⚠️ 주의사항

- 이 프로그램은 **교육 및 학습 목적**으로 개발되었습니다
- 게임사의 이용 약관에 위배될 수 있으므로, 실제 게임에서의 사용에 대한 책임은 전적으로 사용자에게 있습니다
- 과도한 자동화는 계정 제재의 원인이 될 수 있습니다

### 라이선스

MIT License - 상업적 사용 가능, 수정 및 배포 자유

---

**버전**: 2.1.0  
**최종 업데이트**: 2026-01-01  
**개발자**: WAYNE
